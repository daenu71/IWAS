; iWAS global default configuration
; -----------------------------------------------------------------------------
; Layering:
; 1) config/defaults.ini (this file)
; 2) config/user.ini      (user overrides)
;
; General parsing notes:
; - Boolean: true/false, yes/no, on/off, 1/0
; - Integer/float values are validated and clamped by code where required.
; - Invalid [video_cut] values:
;   - mode=cut  -> hard error
;   - mode=full -> warning + fallback to internal defaults

[video_compare]
; HUD lane width on output canvas (pixels).
; Used as frame thickness in frame-mode or reference width for layout controls.
hud_width_px = 640

; Default output aspect ratio shown in UI.
output_aspect = 32:9

; Default output preset shown in UI (WIDTHxHEIGHT).
output_preset = 5120x1440

; Optional output quality label used by UI/profile payload.
; If omitted, code fallback is "Original".
; output_quality = Original

; Progress share (0..100) reserved for "Preparing HUDs..." before ffmpeg render phase.
progress_preparing_time = 80

; ----------------------------------------------------------------------------
; HUD timing windows (seconds)
; These defaults apply to scroll HUD window extraction.
; Per-HUD window overrides are intentionally disabled in current implementation.
hud_window_default_before_s = 2
hud_window_default_after_s  = 2

; Pedal HUD sampling mode:
; - time   : time-based sampling (recommended/current)
; - legacy : old behavior
hud_pedals_sample_mode = time

; ABS debounce in milliseconds for throttle/brake HUD.
; Effective clamp in code: 0..500
hud_pedals_abs_debounce_ms = 60

; Max-brake event detection (Throttle/Brake HUD):
; - A brake phase re-arms only when Brake == 0 exactly (strict reset).
; - Delay is lap-distance delta (LapDistPct domain) after Brake==0.
; - Code clamp: 0.0..1.0
; Note: value 2.5 will be clamped to 1.0 by runtime validation.
max_brake_delay_distance = 2.5

; Max-brake pressure threshold in percent for event re-entry.
; Converted internally to Brake scale 0..1.
; Code clamp: 0.0..100.0
max_brake_delay_pressure = 35

; Under-/Oversteer curve vertical center shift in percent of full Y range.
; + moves curve up, - moves curve down, 0 disables shift.
; Code clamp: -50..50
under_oversteer_curve_center = 10

; Default point density for curve HUDs.
; 0 means "auto from HUD width" for selected HUDs.
hud_curve_points_default = 0

; Optional per-HUD point-count overrides (integer, optional):
; hud_curve_points_throttle_brake = 180
; hud_curve_points_steering = 180
; hud_curve_points_delta = 180
; hud_curve_points_line_delta = 180
; hud_curve_points_under_oversteer = 180

; ----------------------------------------------------------------------------
; Global HUD text legibility

; 1 = adaptive shadow pass enabled, 0 = disabled
hud_text_shadow_enable = 1

; Shadow offset in pixels (single-pass x/y)
; Code clamp: 0..8
hud_text_shadow_offset_px = 1

; Shadow alpha channel
; Code clamp: 0..255
hud_text_shadow_alpha = 160

; 1 = brighten dark text colors (especially dark red/blue), 0 = off
hud_text_brighten_enable = 1

; 1 = force visible debug text style (white shadow + marker), 0 = normal
hud_text_debug_force_visible = 0

; ----------------------------------------------------------------------------
; Speed HUD

; Display units: kmh or mph
speed_units = kmh

; Speed HUD update rate in Hz.
; Code clamp: 1..60 and later bounded by video FPS.
speed_update_hz = 60

; Max speed display semantics:
; - Uses last confirmed peak per driver.
; - Confirmation is fixed in code (no ini key): +5 rise and -5 drop around peak,
;   interpreted in current speed_units.

; ----------------------------------------------------------------------------
; Gear & RPM HUD

; Update rate in Hz.
; Code clamp: 1..60 and later bounded by video FPS.
gear_rpm_update_hz = 30

[video_cut]
; Seconds kept before detected brake onset for each cut segment.
; Must be finite and >= 0.
video_before_brake = 1.0

; Seconds kept after full-throttle return for each cut segment.
; Must be finite and >= 0.
video_after_full_throttle = 1.0

; Minimum gap between two curves to keep segments separate.
; Must be finite and >= 0.
video_minimum_between_two_curves = 2.0

[coaching_recording]
; Master switch for IRSDK recording service.
coaching_recording_enabled = true

; Storage root for coaching sessions/runs/laps.
coaching_storage_dir = C:\iWAS\data\coaching

; IRSDK sample frequency.
; Code clamp: 0..1000
irsdk_sample_hz = 120

; If enabled, retention checks use coaching_retention_months.
coaching_retention_months_enabled = false

; Retention window in months.
; Code clamp: 1..120
coaching_retention_months = 6

; If enabled, low disk warnings are shown based on threshold below.
coaching_low_disk_warning_enabled = false

; Low disk warning threshold in GB.
; Code clamp: 1..2000
coaching_low_disk_warning_gb = 20

; If enabled, auto-delete policy may remove old recordings according to retention.
coaching_auto_delete_enabled = false
